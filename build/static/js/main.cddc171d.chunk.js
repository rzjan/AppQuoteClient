(this["webpackJsonpquote-client"]=this["webpackJsonpquote-client"]||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/header.de62b5ee.jpg"},31:function(e,t,a){e.exports=a(43)},36:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(14),c=a.n(s),o=(a(36),a(47)),l=a(29),A=a(8);function i(){var e=JSON.parse(localStorage.getItem("user"));return e?{Authorization:"Bearer "+e}:{}}var u="http://localhost:9000",m="http://localhost:7000",h=a(25),d=Object(h.a)(),g=a(11),E=a(26),p=a(27),v="ALERT_SUCCESS",f="ALERT_ERROR",b="ALERT_CLEAR",C="USERS_REGISTER_REQUEST",w="USERS_REGISTER_SUCCESS",I="USERS_REGISTER_FAILURE",y="USERS_LOGIN_REQUEST",S="USERS_LOGIN_SUCCESS",N="USERS_LOGIN_FAILURE",O="USERS_LOGOUT",j=JSON.parse(localStorage.getItem("user")),Q=j?{loggedIn:!0,user:j}:{};var k=Object(g.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loggingIn:!0,user:t.user};case S:return{loggedIn:!0,user:t.user};case N:case O:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{registering:!0};case w:case I:return{};default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{type:"alert-success",message:t.message};case f:return{type:"alert-danger",message:t.message};case b:return{};default:return e}}}),R=Object(p.createLogger)(),G=Object(g.d)(k,Object(g.a)(E.a,R)),D={success:function(e){return{type:v,message:e}},error:function(e){return{type:f,message:e}},clear:function(){return{type:b}}};var M={login:function(e,t){var a={method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch(u+"/auth/login",a).then(B,U).then((function(e){return console.log(e),e&&(console.log("usertoken",e),localStorage.setItem("user",JSON.stringify(e.access_token))),e}))},logout:function(){localStorage.removeItem("user")},register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(u+"/auth/register",t).then(B,U)},getAll:function(){var e={method:"GET",headers:i()};return fetch(u+"/users",e).then(B,U)}};function B(e){return new Promise((function(t,a){if(e.ok){var n=e.headers.get("content-type");n&&n.includes("application/json")?e.json().then((function(e){return t(e)})):t()}else e.text().then((function(e){return a(e)}))}))}function U(e){return Promise.reject(e&&e.message)}var J={login:function(e,t){return function(a){a({type:y,user:{username:e}}),M.login(e,t).then((function(e){a(function(e){return{type:S,user:e}}(e)),d.push("/")}),(function(e){a(function(e){return{type:N,error:e}}(e)),a(D.error(e))}))}},logout:function(){return M.logout(),{type:O}},register:function(e){return function(t){t(function(e){return{type:C,user:e}}(e)),M.register(e).then((function(){t(function(e){return{type:w,user:e}}()),d.push("/login"),t(D.success("Registrac\xf3n satisfactoria"))}),(function(e){t(function(e){return{type:I,error:e}}(e)),t(D.error("La contrase\xf1a debe tener 8 caracteres, al menos una may\xfascula y un s\xedmbolo"))}))}}};var K=a(30),Y=a(46),x=function(e){var t=e.component,a=Object(K.a)(e,["component"]);return r.a.createElement(l.a,Object.assign({},a,{render:function(e){return localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(Y.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},H=a(3),T=a(4),L=a(6),F=a(5),z=a(20),W=a(45),P=function(e){Object(L.a)(a,e);var t=Object(F.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},r.a.createElement(z.a,{className:"navbar-brand",to:"/"},"Cotizaciones de monedas"),r.a.createElement("div",{className:"navbar-collapse"},r.a.createElement("div",{className:"navbar-nav"})),r.a.createElement("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement(W.a,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/login"},"Cerrar sesi\xf3n")))))}}]),a}(r.a.Component),V=function(e){Object(L.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).state={cotization:[],currency:n.props.currency},n}return Object(T.a)(a,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){var t=JSON.parse(localStorage.getItem("user")),a="".concat(m,"/quotation/v1/").concat(e.state.currency);return fetch(a,{method:"GET",headers:{Authorization:"Bearer "+t}}).then((function(e){return e.json()})).then((function(t){return e.setState({cotization:t})}))}),5e3)}},{key:"render",value:function(){this.state.quotes;return r.a.createElement("div",{className:"card ms-3",style:{maxWidth:540}},r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-header text-center border-bottom-0 bg-transparent text-success pt-4"},r.a.createElement("h5",null," ","Cotizaci\xf3n: "+this.props.currency," ")),r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",null,"$ ",Number(this.state.cotization.amount).toPrecision(4)),r.a.createElement("h5",{className:"text-muted"},r.a.createElement("small",null,"Pesos/",this.props.currency))),r.a.createElement("div",{className:"card-footer border-top-0"})))}}]),a}(r.a.Component),_=a(28),q=a.n(_),Z=function(e){Object(L.a)(a,e);var t=Object(F.a)(a);function a(){var e;return Object(H.a)(this,a),(e=t.call(this)).state={curTime:null},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=(e.user,e.users,new Date);return r.a.createElement("div",{className:"container mt-2"},r.a.createElement("div",{className:"col-12"},r.a.createElement("img",{src:q.a,className:"card-img"}),r.a.createElement(P,null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h4",null,"Cotizaciones de la fecha:"," ",t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()," ")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement(V,{currency:"Euro"})," "),r.a.createElement("div",{className:"col-4"},r.a.createElement(V,{currency:"Dollar"})," "),r.a.createElement("div",{className:"col-4"},r.a.createElement(V,{currency:"Real"})," "))))}}]),a}(r.a.Component);var X=Object(A.b)((function(e){var t=e.users;return{user:e.authentication.user,users:t}}))(Z),$=a(12),ee=a(10),te=function(e){Object(L.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).props.dispatch(J.logout()),n.state={username:"",password:"",submitted:!1},n.handleChange=n.handleChange.bind(Object(ee.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ee.a)(n)),n}return Object(T.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object($.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.username,n=t.password,r=this.props.dispatch;a&&n&&r(J.login(a,n))}},{key:"render",value:function(){var e=this.props.loggingIn,t=this.state,a=t.username,n=t.password,s=t.submitted;return r.a.createElement("div",{className:"col-md-6 mx-auto",style:{marginTop:"10%"}},r.a.createElement("h2",null,"Iniciar sesi\xf3n"),r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit,className:"text-align:center"},r.a.createElement("div",{className:"form-group"+(s&&!a?" has-error":"")},r.a.createElement("label",{htmlFor:"username"},"Nombre usuario"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:a,onChange:this.handleChange}),s&&!a&&r.a.createElement("div",{className:"help-block"},"Nombre de usuario es requerido")),r.a.createElement("div",{className:"form-group"+(s&&!n?" has-error":"")},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:n,onChange:this.handleChange}),s&&!n&&r.a.createElement("div",{className:"help-block"},"Contrase\xf1a es requerida")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary"},"Iniciar sesi\xf3n"),e&&r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}),r.a.createElement(z.a,{to:"/register",className:"btn btn-link"},"Registrarse"))))}}]),a}(r.a.Component);var ae=Object(A.b)((function(e){return{loggingIn:e.authentication.loggingIn}}))(te),ne=a(21),re=function(e){Object(L.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).state={user:{username:"",password:""},submitted:!1},n.handleChange=n.handleChange.bind(Object(ee.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ee.a)(n)),n}return Object(T.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.user;this.setState({user:Object(ne.a)(Object(ne.a)({},r),{},Object($.a)({},a,n))})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state.user,a=this.props.dispatch;t.username&&t.password&&a(J.register(t))}},{key:"render",value:function(){var e=this.props.registering,t=this.state,a=t.user,n=t.submitted;return r.a.createElement("div",{className:"col-md-6 mx-auto",style:{marginTop:"10%"}},r.a.createElement("h2",null,"Registrarse"),r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"+(n&&!a.username?" has-error":"")},r.a.createElement("label",{htmlFor:"username"},"Nombres usuario"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",placeholder:"Ingrese su Email",value:a.username,onChange:this.handleChange}),n&&!a.username&&r.a.createElement("div",{className:"help-block"},"Nombre de usuario es requerido")),r.a.createElement("div",{className:"form-group"+(n&&!a.password?" has-error":"")},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a.password,onChange:this.handleChange}),n&&!a.password&&r.a.createElement("div",{className:"help-block"},"La contrase\xf1a es requerida")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary"},"Registrarse"),e&&r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}),r.a.createElement(z.a,{to:"/login",className:"btn btn-link"},"Cancelar"))))}}]),a}(r.a.Component);var se=Object(A.b)((function(e){return{registering:e.registration.registering}}))(re);var ce=function(){return r.a.createElement("div",{className:"jumbroton"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-12"},alert.message&&r.a.createElement("div",{className:"alert ".concat(alert.type)},alert.message),r.a.createElement(o.a,{history:d},r.a.createElement("div",null,r.a.createElement(x,{exact:!0,path:"/",component:X}),r.a.createElement(l.a,{path:"/login",component:ae}),r.a.createElement(l.a,{path:"/register",component:se}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(42);c.a.render(r.a.createElement(A.a,{store:G},r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.cddc171d.chunk.js.map